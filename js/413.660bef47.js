"use strict";(self["webpackChunktradeui"]=self["webpackChunktradeui"]||[]).push([[413],{6413:function(e,t,a){a.r(t),a.d(t,{default:function(){return Q}});var l=a(9812),i=a(5893),o=a(4220);const d={class:"container"},n=(0,l._)("h1",null,"Setting General",-1),s=(0,l._)("hr",null,null,-1),r={class:"modal fade",id:"modalConfirm",tabindex:"-1","aria-labelledby":"confirmLabel","aria-hidden":"true"},c={class:"modal-dialog"},m={class:"modal-content"},u=(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title",id:"confirmLabel"},"Delete confirm"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),b={class:"modal-body"},p=["innerHTML"],f={class:"modal-footer"},y=(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"No",-1),h={class:"modal fade",id:"modalMeta",tabindex:"-1","aria-labelledby":"metaLabel","aria-hidden":"true"},_={class:"modal-dialog"},v={class:"modal-content"},M={class:"modal-header"},g={class:"modal-title",id:"metaLabel"},k=(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),w={class:"modal-body"},D={class:"form-group mt-2"},F=(0,l._)("label",{for:"metaKey"},"Key",-1),C=["disabled"],x=(0,l._)("label",{for:"metaP"},"Placeholder",-1),S=(0,l._)("label",{for:"metaD"},"Description",-1),T=(0,l._)("label",{for:"metaT"},"Title",-1),L={class:"modal-footer"},V=(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1),$={class:"position-fixed bottom-0 end-0 p-3",style:{"z-index":"11"}},I={id:"liveToast",class:"toast hide",role:"alert","aria-live":"assertive","aria-atomic":"true"},U={class:"toast-body"},z=(0,l._)("span",{class:"bi bi-x-circle btn text-danger","data-bs-dismiss":"toast","aria-label":"Close"},null,-1),E=["innerHTML"];function H(e,t,a,H,K,Y){const P=(0,l.up)("SettingField");return(0,l.wg)(),(0,l.iD)("div",d,[n,s,(0,l._)("div",null,[(0,l._)("span",{class:"bi bi-plus-lg btn btn-primary",onClick:t[0]||(t[0]=(...e)=>Y.newField&&Y.newField(...e))})]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.fields,(e=>((0,l.wg)(),(0,l.j4)(P,{key:e._id,fkey:e._id,type:e.type??"text",value:e.Value,placeholder:e.placeholder,description:e.description,title:e.title??e._id,mask:"false",onEditField:Y.editField,onSaveField:Y.saveField,onRemoveField:Y.removeField},null,8,["fkey","type","value","placeholder","description","title","onEditField","onSaveField","onRemoveField"])))),128)),(0,l._)("div",r,[(0,l._)("div",c,[(0,l._)("div",m,[u,(0,l._)("div",b,[(0,l._)("p",{innerHTML:e.confirmModalData.body},null,8,p)]),(0,l._)("div",f,[y,(0,l._)("button",{type:"button",onClick:t[1]||(t[1]=t=>e.confirmModalData.callbackYes(e.confirmModal)),class:"btn btn-primary"},"Yes")])])])]),(0,l._)("div",h,[(0,l._)("div",_,[(0,l._)("div",v,[(0,l._)("div",M,[(0,l._)("h5",g,(0,i.zw)(e.metaModalData.title),1),k]),(0,l._)("div",w,[(0,l._)("div",D,[F,(0,l.wy)((0,l._)("input",{id:"metaKey",class:"form-control",type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.metaModalData.item._id=t),disabled:e.metaModalData.modify},null,8,C),[[o.nr,e.metaModalData.item._id]]),x,(0,l.wy)((0,l._)("input",{id:"metaP",class:"form-control",type:"text",placeholder:"Input Placeholder","onUpdate:modelValue":t[3]||(t[3]=t=>e.metaModalData.item.placeholder=t)},null,512),[[o.nr,e.metaModalData.item.placeholder]]),S,(0,l.wy)((0,l._)("input",{id:"metaD",class:"form-control",type:"text",placeholder:"Input Description","onUpdate:modelValue":t[4]||(t[4]=t=>e.metaModalData.item.description=t)},null,512),[[o.nr,e.metaModalData.item.description]]),T,(0,l.wy)((0,l._)("input",{id:"metaT",class:"form-control",type:"text",placeholder:"Input Title","onUpdate:modelValue":t[5]||(t[5]=t=>e.metaModalData.item.title=t)},null,512),[[o.nr,e.metaModalData.item.title]])])]),(0,l._)("div",L,[V,(0,l._)("button",{type:"button",onClick:t[6]||(t[6]=t=>e.metaModalData.callback(this)),class:"btn btn-primary"},"Save")])])])]),(0,l._)("div",$,[(0,l._)("div",I,[(0,l._)("div",U,[z,(0,l._)("span",{innerHTML:e.toastContent},null,8,E)])])])])}var K=a(7961),Y=a(3400);const P={class:"form-group mt-2"},Z=["for"],B=["id","type","placeholder","name"],q={key:0};function A(e,t,a,d,n,s){return(0,l.wg)(),(0,l.iD)("div",P,[(0,l._)("label",{for:`id-${a.fkey}`},[(0,l.Uk)((0,i.zw)(a.title)+" ",1),(0,l._)("code",null,(0,i.zw)(a.fkey),1)],8,Z),(0,l._)("i",{class:"bi bi-pencil-square btn text-primary",onClick:t[0]||(t[0]=t=>e.$emit("editField",a.fkey))}),(0,l._)("i",{class:"bi bi-trash-fill btn text-danger",onClick:t[1]||(t[1]=t=>e.$emit("removeField",a.fkey))}),(0,l._)("i",{class:"bi bi-life-preserver btn text-info",onClick:t[2]||(t[2]=t=>e.$emit("saveField",a.fkey,e.fvalue))}),(0,l.wy)((0,l._)("input",{id:`id-${a.fkey}`,class:"form-control",type:a.type,placeholder:a.placeholder,name:`name-${a.fkey}`,"onUpdate:modelValue":t[3]||(t[3]=t=>e.fvalue=t)},null,8,B),[[o.YZ,e.fvalue]]),a.description?((0,l.wg)(),(0,l.iD)("sub",q,(0,i.zw)(a.description),1)):(0,l.kq)("",!0)])}var G={name:"SettingField",emits:["editField","removeField","saveField"],props:{fkey:String,type:String,value:String,title:String,description:String,placeholder:String,mask:String},data:function(){return{fvalue:this.value}}},N=a(8998);const R=(0,N.Z)(G,[["render",A]]);var j=R,J={name:"SettingGeneral",components:{SettingField:j},data:function(){return{fields:[],confirmModalData:{},confirmModal:{},metaModalData:{item:{_id:"",placeholder:"",description:"",title:""},title:"Modify"},metaModal:{},toast:{},toastContent:""}},mounted:async function(){this.fields=await K.Z.dbexec("select $ from KeyValue"),this.confirmModal=new Y.u_(document.getElementById("modalConfirm"),{}),this.metaModal=new Y.u_(document.getElementById("modalMeta"),{}),this.toast=new Y.FN(document.getElementById("liveToast"),{})},methods:{editField(e){this.metaModalData={modify:!0,title:'Modify meta data of field "'+e+'"',item:this.fields.find((function(t){return t._id===e})),callback:function(e){e.metaModal.hide(),console.log(e.metaModalData.item)}},this.metaModal.show()},saveField(e,t){console.log("save",e,t),this.showToast("ahihi")},showToast(e){this.toastContent=e,this.toast.show()},removeField(e){this.confirmModalData={body:"Are you sure to delete <code>"+e+"</code>",callbackYes:function(t){t.hide(),console.log("remove confirm yes",e)}},this.confirmModal.show()},newField(){this.metaModalData={modify:!1,title:"Add new meta data",item:{_id:"",placeholder:"",description:"",title:""},callback:function(e){e.metaModal.hide(),console.log(e.metaModalData.item)}},this.metaModal.show()}}};const O=(0,N.Z)(J,[["render",H]]);var Q=O}}]);
//# sourceMappingURL=413.660bef47.js.map